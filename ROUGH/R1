package com.empower.epw.crm.gateway.sqs;

import org.springframework.stereotype.Service;

import lombok.CustomLog;

@CustomLog
@Service
public class CrmProcessingService
{

	public void processMessage(String type, String message, String messageId)
	{
		log.info("Received from [{}] queue type, message [ID: {}]: {}", type,
				messageId != null ? messageId : "NA", message);

		try
		{
			// TODO: handle domain logic here
			if ("FAIL_MESSAGE".equals(message))
			{
				throw new MessageException("Test failure message to trigger DLQ");
			}
			log.info("Message from queue type [{}] processed successfully.", type);
		}
		catch (MessageException messageException)
		{
			throw messageException;
		}
		catch (Exception ex)
		{
			log.error("Error processing [{}] message: {}, {}", type, ex.getMessage(), ex);
			throw new RuntimeException("Unexpected processing error", ex);
		}
	}
}


how to remove it from this code, it - message exception

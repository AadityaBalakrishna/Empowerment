Yes, these three details (class, method, outcome) are captured in each metric logging statement within PcapMultiCacheableAdvice.java. Hereâ€™s where they are included:


---

1ï¸âƒ£ The Class on Which the Caching Happened

ğŸ“ Captured using:

pjp.getTarget().getClass().getSimpleName()

ğŸ“ Where it appears:

In every Metrics.counter() call:

Metrics.counter(CACHE_HIT_METRIC, 
                "class", pjp.getTarget().getClass().getSimpleName(),
                "method", pjp.getSignature().getName(),
                "outcome", "hit").increment();



---

2ï¸âƒ£ The Method in Which the Caching Happens

ğŸ“ Captured using:

pjp.getSignature().getName()

ğŸ“ Where it appears:

In every Metrics.counter() call:

Metrics.counter(CACHE_MISS_METRIC, 
                "class", pjp.getTarget().getClass().getSimpleName(),
                "method", pjp.getSignature().getName(),
                "outcome", "miss").increment();



---

3ï¸âƒ£ The Outcome of the Caching (Success/Failure)

ğŸ“ Captured as "hit", "miss", "failure", "eviction.failure", "data.mismatch", "store"
ğŸ“ Where it appears:

Cache Hit: "outcome", "hit"

Cache Miss: "outcome", "miss"

Cache Failure: "outcome", "failure"

Eviction Failure: "outcome", "eviction.failure"

Data Mismatch Warning: "outcome", "data.mismatch"

Cache Store: "outcome", "store"


ğŸ“ Example in Metrics.counter() calls:

Metrics.counter(CACHE_FAILURE_METRIC, 
                "class", pjp.getTarget().getClass().getSimpleName(),
                "method", pjp.getSignature().getName(),
                "outcome", "failure").increment();


---

ğŸ“Œ Final Confirmation

âœ… The class is captured via pjp.getTarget().getClass().getSimpleName().
âœ… The method is captured via pjp.getSignature().getName().
âœ… The outcome is explicitly set in each Metrics.counter() call.

This ensures all three required details are included in the DataDog metrics.


package com.personalcapital.profile;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.TestPropertySource;
import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;

import com.personalcapital.log.PcapLogger;
import com.personalcapital.log.PcapLoggerFactory;
import com.personalcapital.profile.data.Person;
import com.personalcapital.profile.data.PersonDao;
import com.personalcapital.user.data.UserInfo;
import com.personalcapital.user.data.util.UserDataUtils;
import com.safepage.user.data.User;
import com.safepage.user.data.UserDao;

/**
 * @author rnukala Date: Sep 6, 2013
 */
@SpringJUnitConfig(locations = "classpath:pcapPlanningApplicationContext.xml")
@TestPropertySource(locations =
{
		"classpath:application-test.properties"
})
public class TargetPortfolioAccuracyCalculatorTest
{
	private static final PcapLogger logger = PcapLoggerFactory
			.getPcapLogger(TargetPortfolioAccuracyCalculatorTest.class);
	private static final String USER_NAME = "testqa+test@personalcapital.com";

	@Autowired
	private UserDao userDao;

	@Autowired
	private UserDataUtils userDataUtils;

	@Autowired
	private PersonDao personDao;

	@Autowired
	private TargetPortfolioAccuracyCalculator targetPortfolioAccuracyCalculator;

	/**
	 * Test case to calculate target portfolio completion for close to retirement
	 */
	@Test
	public void testCalculateTargetPortfolioCompletionForCloseToRetirement()
	{
		User user = userDao.getUserAssociatedWithEmail(USER_NAME);
		try
		{
			UserInfo userInfo = userDataUtils.getUserInfoForUser(user);
			Assertions.assertNotNull(userInfo);
			Person person = personDao.getSelfPersonForUser(user);
			Assertions.assertNotNull(person);
			Double portfolioCompletion = targetPortfolioAccuracyCalculator
					.calculateTargetPortfolioCompletion(user, person, userInfo, false);
			Assertions.assertNotNull(portfolioCompletion);
		}
		catch (Exception e)
		{
			logger.error("Exception while processing the portfolio completion: " + e.getMessage(),
					e);
		}
	}

	/**
	 * Test case to calculate target portfolio completion for not close to retirement
	 */
	@Test
	public void testCalculateTargetPortfolioCompletionForNotCloseToRetirement()
	{
		User user = userDao.getUserAssociatedWithEmail(USER_NAME);
		try
		{
			UserInfo userInfo = userDataUtils.getUserInfoForUser(user);
			Person person = personDao.getSelfPersonForUser(user);
			Double portfolioCompletion = targetPortfolioAccuracyCalculator
					.calculateTargetPortfolioCompletion(user, person, userInfo, true);
			Assertions.assertNotNull(portfolioCompletion);
		}
		catch (Exception e)
		{
			logger.error("Exception while processing the portfolio completion: " + e.getMessage(),
					e);
		}

	}
}


how do i enable logging just for this test case, i want to see all the properties it needs to establish db connection and from where those properties are being used, like the xml files

<?xml version="1.0" encoding="UTF-8"?>
<Configuration packages="com.personalcapital.log">
	<Properties>
		<Property name="LOG_PATTERN">%d %p %t [%c] [%X{spclient}] [%X{spdevice}] [%X{spsessid}] [%X{spuserguid}] - %gmc%n</Property>
	</Properties>
	<Appenders>
		<Console name="Console" target="SYSTEM_OUT">
			<PatternLayout pattern="${LOG_PATTERN}" />
		</Console>
	</Appenders>
	<Loggers>
		<Root level="WARN">
			<AppenderRef ref="Console" />
		</Root>
		<Logger name="com.safepage.json.JSONHelper" additivity="false"
				level="off">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.hibernate" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.amazonaws.request" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.mysql" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="io.netty" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.apache.http" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.mysql.etools" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="net.sf" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.springframework" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.springframework.beans" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.springframework.aop" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.springframework.orm.jpa" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.springframework.test" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="AXIS_SOAP_HANDLER" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.personalcapital.api.client.proxy.PcapApiProxyClient" additivity="false"
				level="INFO">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.personalcapital.config" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.safepage.security.CryptEngine" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.personalcapital.site.search" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.personalcapital.site.SiteService" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.personalcapital" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.safepage" additivity="false"
				level="WARN">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.zaxxer.hikari.pool.HikariPool" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.zaxxer.hikari" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="org.redisson.config" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
		<Logger name="com.amazonaws" additivity="false"
				level="ERROR">
			<AppenderRef ref="Console" />
		</Logger>
	</Loggers>
</Configuration>


this is the log4j2-test.xml file i have

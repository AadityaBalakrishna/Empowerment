package com.empower.epw.account.config;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;

@SpringJUnitConfig
@ContextConfiguration(locations = "classpath:loadsafepage.xml")
public class PcapConfigPoCusingSafepage
{
	@Value("${epw.account.datasource.username}")
	private String user;

	@Test
	public void loadfromdevtrunkpcap()
	{
		Assertions.assertEquals("acct_app_devtrunk", user);
	}
}

xml file:
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
    <bean id="safePageConfigurer" class="com.personalcapital.config.SafePageConfigurer" factory-method="getSafePageConfigurerForEks">
        <constructor-arg>
            <list>
                <value>application</value>
            </list>
        </constructor-arg>
        <constructor-arg>
            <list>
                <value>application-override.properties</value>
            </list>
        </constructor-arg>
        <constructor-arg value="pcap"/>
    </bean>
</beans>

in SpsCirrusContactMetadataRepository.java

	@Transactional(readOnly = true)
	@Query("SELECT hash_value FROM sp_schema.sps_cirrus_contact_metadata WHERE user_account_guid = :userAccountGuid ORDER BY updated_date DESC and LIMIT 1")
	List<SpsCirrusContactMetadata> findLastestHashByUserAccountGuid(
			@Param("userAccountGuid") UUID userAccountGuid);


reviews:
review 1:
selecting only hash_value but returning whole entity. This will cause runtime issue.
JPQL don't support LIMIT
Fix typo also : Lastest

review 2:
SELECT hash_value returns an integer, but the method returns List.
ORDER BY ... and LIMIT 1 → and is invalid; LIMIT isn’t JPQL.
Instead native query can be used :
@Query(value = "SELECT hash_value FROM sp_schema.sps_cirrus_contact_metadata WHERE user_account_guid = :userAccountGuid ORDER BY updated_date DESC LIMIT 1",
nativeQuery = true)
Integer findLatestHashByUserAccountGuid(@Param("userAccountGuid") UUID userAccountGuid);


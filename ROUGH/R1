@Test
void shouldThrowExceptionWhenAwsAccountOrStageMissing() {
    contextRunner.run(context -> {
        Throwable thrown = catchThrowable(() -> context.getBean(ConfigClientProperties.class));

        assertThat(thrown)
            .rootCause()
            .isInstanceOf(IllegalStateException.class)
            .hasMessageContaining("Unable to infer profiles");
    });
}

 @Test
    void testEncryptDecryptWithKmsClientDirectly() {
        String plaintext = "hello-localstack-kms";

        EncryptRequest encryptRequest = new EncryptRequest()
                .withKeyId(KEY_ALIAS)
                .withPlaintext(ByteBuffer.wrap(plaintext.getBytes(StandardCharsets.UTF_8)));

        EncryptResult encryptResult = awskms.encrypt(encryptRequest);
        ByteBuffer ciphertextBlob = encryptResult.getCiphertextBlob();
        assertNotNull(ciphertextBlob);

        DecryptRequest decryptRequest = new DecryptRequest()
                .withCiphertextBlob(ciphertextBlob);

        DecryptResult decryptResult = awskms.decrypt(decryptRequest);
        String decryptedText = StandardCharsets.UTF_8.decode(decryptResult.getPlaintext()).toString();

        assertEquals(plaintext, decryptedText);
    }

    @Test
    void testEncryptDecryptWithEpwKmsService() throws SafePageException {
        String plaintext = "integration-test-message";

        // Use EpwKmsService to encrypt
        EncryptRequestDTO encryptDTO = new EncryptRequestDTO(plaintext, KEY_ALIAS);
        EncryptResponseDTO encrypted = epwKmsService.encrypt(encryptDTO);
        assertNotNull(encrypted.getCiphertext());

        // Use EpwKmsService to decrypt
        DecryptRequestDTO decryptDTO = new DecryptRequestDTO(encrypted.getCiphertext());
        DecryptResponseDTO decrypted = epwKmsService.decrypt(decryptDTO);
        assertNotNull(decrypted.getPlaintext());
        assertEquals(plaintext, decrypted.getPlaintext());
    }

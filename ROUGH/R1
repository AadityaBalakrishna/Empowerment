@Service
public class CacheMetricsService {

    private static final Logger logger = LoggerFactory.getLogger(CacheMetricsService.class);

    @PcapMultiCacheable(value = "testCache", keys = {42})
    public List<String> getCachedData() {
        logger.info("Fetching data for caching...");
        return List.of("Cached response");
    }
}


@RestController
@RequestMapping("/metrics")
public class CacheMetricsController {

    private final CacheMetricsService cacheMetricsService;

    @Autowired
    public CacheMetricsController(CacheMetricsService cacheMetricsService) {
        this.cacheMetricsService = cacheMetricsService;
    }

    @GetMapping("/test-cache")
    public ResponseEntity<List<String>> testCache() {
        List<String> response = cacheMetricsService.getCachedData();
        return ResponseEntity.ok(response);
    }
}
